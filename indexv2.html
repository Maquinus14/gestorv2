<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./css/estilos.css" rel="stylesheet" />
    <title>Gestor de presupuesto</title>
  </head>
  <body>
    <!-- Formulario de selecci贸n de usuario -->
    <div
      id="user-selection"
      style="
        margin: 20px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: #f5f5f5;
      "
    >
      <h3>Seleccionar Usuario</h3>
      <form id="user-form">
        <label for="username">Usuario:</label>
        <input
          type="text"
          id="username"
          name="username"
          required
          placeholder="Ej: usuario1, usuario2"
          style="margin: 0 10px; padding: 5px"
        />
        <button type="submit" style="padding: 5px 10px">Cargar Gastos</button>
      </form>
      <div id="user-status" style="margin-top: 10px; font-style: italic"></div>
    </div>

    <!-- Capas contenedoras para mostrar los datos de la aplicaci贸n -->
    <div id="aplicacion">
      <div id="total"></div>
      <div id="formcreacion"></div>
      <div id="listado"></div>
      <button id="guardarLocal">Guardar gastos en local</button>
      <button id="cargarLocal">Cargar gastos guardados</button>
    </div>

    <!-- Plantilla HTML del componente Web -->
    <template id="plantilla-gasto">
      <style>
        .gasto {
          border: 1px solid #ddd;
          border-radius: 8px;
          padding: 10px;
          margin-bottom: 8px;
          background: #f8f8f8;
        }
        .cabecera {
          display: flex;
          justify-content: space-between;
        }
        .valor {
          font-weight: bold;
          color: #007bff;
        }
        .etiquetas {
          font-size: 0.85em;
          color: #555;
        }
        form {
          display: none;
          margin-top: 8px;
        }
        form.visible {
          display: block;
        }
        input {
          display: block;
          margin: 4px 0;
        }
        button {
          margin-right: 5px;
        }
      </style>

      <div class="gasto">
        <div class="cabecera">
          <div>
            <div id="descripcion"></div>
            <div id="fecha"></div>
            <div id="etiquetas" class="etiquetas"></div>
          </div>
          <div id="valor" class="valor"></div>
        </div>

        <div class="acciones">
          <button id="editar">Editar</button>
          <button id="borrar">Borrar</button>
        </div>

        <form id="formEditar">
          <input id="fDescripcion" placeholder="Descripci贸n" required />
          <input id="fValor" type="number" placeholder="Valor" required />
          <input id="fFecha" type="date" required />
          <input id="fEtiquetas" placeholder="Separadas por espacios" />
          <button type="submit">Guardar</button>
          <button id="cancelar" type="button">Cancelar</button>
        </form>
      </div>
    </template>

    <!-- Carga del script de la versi贸n 2 -->
    <script type="module" src="./js/gestionPresupuestoWebV2.js"></script>
  </body>
</html>
